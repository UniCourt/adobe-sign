if [ "$#" -ne 1 ]
then
    tput setaf 1;
    echo "Expecting language as command line argument"

    tput setaf 2
    echo "\nHere are the available languages"
    docker run --rm -v ${PWD}:/local swaggerapi/swagger-codegen-cli:2.4.0 langs

    tput setaf 9;
    echo "\nExample: ./installer php"
    exit;
fi

docker run --rm -v ${PWD}:/local/SwaggerClient-php \
    swaggerapi/swagger-codegen-cli:2.4.0 generate \
    --input-spec /local/SwaggerClient-php/json/libraryDocuments.json \
    --lang $1 \
    --output /local \
    --git-user-id UniCourt \
    --git-repo-id adobe-sign

docker run --rm -v ${PWD}:/local/SwaggerClient-php \
    swaggerapi/swagger-codegen-cli:2.4.0 generate \
    --input-spec /local/SwaggerClient-php/json/agreements.json \
    --lang $1 \
    --output /local \
    --git-user-id UniCourt \
    --git-repo-id adobe-sign

sudo chown -R $USER:$USER .
